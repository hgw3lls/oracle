:root { font-family: Inter, system-ui, sans-serif; }
.app-shell { min-height: 100vh; background: #0c0f14; color: #e6e8ee; }
.mode-shell-header { display:flex; justify-content:space-between; align-items:center; gap:12px; padding:12px 16px; border-bottom:1px solid #242b3a; background:#101520; }
.mode-shell-header h1 { margin:0; font-size:16px; }
.mode-indicator { margin:0; font-size:13px; color:#b6c0d2; }
.mode-shell-content { padding:12px; }
.mode-toggle { display:flex; gap:4px; padding:3px; border:1px solid #242b3a; border-radius:10px; background:#0f1320; }
.mode-toggle button { border-radius:6px; padding:6px 10px; }
.mode-toggle button.active { background:#4f7cff; color:#fff; border-color:#4f7cff; }

.app { min-height: calc(100vh - 84px); display: grid; grid-template-rows: auto 1fr auto; }
.app.dark { --bg:#0f1115; --panel:#141823; --card:#171c28; --text:#e6e8ee; --muted:#9aa3b2; --accent:#4f7cff; --border:#242b3a; --entry:#0f1320; }
.app.light { --bg:#f6f7fb; --panel:#fff; --card:#fff; --text:#101214; --muted:#606774; --accent:#2b62ff; --border:#e3e6ef; --entry:#fff; }
.app { background:var(--bg); color:var(--text); }
.appbar { display:flex; justify-content:space-between; padding:12px 16px; background:var(--panel); border-bottom:1px solid var(--border); }
.appbar h1 { margin:0; font-size:20px; }
.appbar p { margin:4px 0 0; color:var(--muted); font-size:13px; }
.actions { display:flex; gap:8px; align-items:center; }
button { background:var(--entry); color:var(--text); border:1px solid var(--border); padding:8px 12px; border-radius:8px; cursor:pointer; }
button:disabled { opacity:0.65; cursor:progress; }
.body { display:grid; grid-template-columns: 240px 1fr 42%; gap:12px; padding:12px; overflow:hidden; }
.sidebar,.output,.card { background:var(--panel); border:1px solid var(--border); border-radius:12px; }
.sidebar { padding:10px; display:flex; flex-direction:column; gap:8px; }
.content { overflow:auto; padding-right:4px; }
.card { padding:12px; margin-bottom:10px; display:grid; gap:8px; }
.card h2,.output h2 { margin:0 0 6px; font-size:16px; }
label { display:grid; gap:4px; font-size:13px; color:var(--muted); }
input,select,textarea { background:var(--entry); color:var(--text); border:1px solid var(--border); border-radius:8px; padding:8px; }
.inline-group { display:flex; gap:8px; }
.inline-group > *:first-child { flex:1; }
textarea { min-height:90px; }
.checks { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:6px; }
.palette-preview { display:flex; gap:6px; flex-wrap:wrap; }
.palette-preview span { width:24px; height:24px; border-radius:6px; border:1px solid var(--border); display:inline-block; }
.output { padding:12px; display:grid; grid-auto-rows:minmax(0,auto); gap:10px; overflow:auto; align-content:start; }
.output textarea { height:100%; min-height:300px; }
.status { background:var(--panel); padding:8px 12px; color:var(--muted); border-top:1px solid var(--border); }


.output-tabs { display:flex; gap:8px; flex-wrap:wrap; }
.output-tabs button.active { background:var(--accent); color:#fff; border-color:var(--accent); }
.output-actions-bar { display:flex; gap:8px; flex-wrap:wrap; }

.output-panel { display:grid; gap:8px; }
.output-panel-header { display:flex; justify-content:space-between; align-items:center; gap:8px; flex-wrap:wrap; }
.output-panel-header h3 { margin:0; font-size:16px; }
.output-panel-actions { display:flex; gap:8px; flex-wrap:wrap; }
.output-panel textarea { width:100%; min-height:220px; }

@media (max-width: 1200px) {
  .body { grid-template-columns: 220px 1fr; }
  .output { grid-column: 1 / -1; grid-template-rows: repeat(2, minmax(220px, 1fr)); }
}

@media (max-width: 800px) {
  .mode-shell-header { flex-wrap: wrap; }
  .appbar { flex-direction: column; gap: 10px; }
  .body { grid-template-columns: 1fr; }
  .checks { grid-template-columns: 1fr; }
  .actions { flex-wrap: wrap; }
}

.graphic-notation-app { background:#111725; border:1px solid #2c3445; border-radius:12px; padding:12px; color:#e6e8ee; }
.graphic-notation-header h2 { margin:0 0 6px; }
.graphic-notation-header p { margin:0 0 10px; color:#b6c0d2; }
.graphic-notation-grid { display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:12px; }
.graphic-notation-card { background:#0f1320; border:1px solid #242b3a; border-radius:10px; padding:10px; display:grid; gap:8px; }
.graphic-notation-card h3 { margin:0; font-size:15px; }
.graphic-notation-card h4 { margin:0; font-size:13px; color:#b6c0d2; }
.graphic-notation-card pre { margin:0; white-space:pre-wrap; word-break:break-word; background:#0b0f18; border:1px solid #242b3a; border-radius:8px; padding:8px; font-size:12px; }
.graphic-notation-card textarea { min-height:140px; }

.preset-manager { display:grid; gap:8px; border:1px solid var(--border, #242b3a); border-radius:10px; padding:8px; background:var(--entry, #0f1320); }
.preset-manager h3 { margin:0; font-size:13px; color:var(--text, #e6e8ee); }
.preset-manager-row { display:flex; gap:8px; }
.preset-manager-row input { flex:1; }
.preset-list { list-style:none; padding:0; margin:0; display:grid; gap:6px; }
.preset-list li { display:flex; justify-content:space-between; align-items:center; gap:8px; padding:6px; border:1px solid var(--border, #242b3a); border-radius:8px; }
.preset-actions { display:flex; gap:6px; }
.preset-empty { margin:0; color:var(--muted, #9aa3b2); font-size:12px; }

.graphic-module-list { display:grid; gap:10px; }
.graphic-module-item { border:1px solid #242b3a; border-radius:8px; padding:8px; display:grid; gap:8px; }
.graphic-module-header { display:flex; justify-content:space-between; align-items:center; gap:8px; }
.graphic-module-targets { display:grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap:6px; }

.graphic-help-text { margin:0; font-size:12px; color:#b6c0d2; line-height:1.45; }
.graphic-parameter-guide { border:1px solid #2d3750; background:#121a2b; border-radius:8px; padding:8px; display:grid; gap:6px; }
.graphic-parameter-guide ul { margin:0; padding-left:18px; display:grid; gap:4px; color:#ced7ea; font-size:12px; }
.graphic-parameter-guide h4 { margin:0; font-size:13px; color:#d9e3f9; }
.graphic-target-help-list { margin:0; padding-left:16px; display:grid; gap:4px; color:#b9c8e7; font-size:12px; }
.graphic-module-item input[type="range"] { width:100%; }

.mode-error-fallback { border:1px solid #7a2a2a; background:#2a1414; color:#ffd6d6; border-radius:12px; padding:16px; }
.mode-error-fallback h2 { margin:0 0 8px; font-size:16px; }
.mode-error-fallback p { margin:0; }
