* { box-sizing: border-box; border-radius: 0; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--fg);
  font-family: var(--mono);
  line-height: 1.45;
}

button, input, textarea, select {
  font: inherit;
  background: var(--bg);
  color: var(--fg);
  border: var(--border-mid) solid var(--line);
}
button {
  text-transform: uppercase;
  font-weight: 800;
  letter-spacing: 0.04em;
  padding: var(--space-2) var(--space-3);
  cursor: pointer;
}
button:hover { background: var(--fg); color: var(--bg); }
button:focus-visible, input:focus-visible, textarea:focus-visible, select:focus-visible {
  outline: var(--border-strong) solid var(--focus);
  outline-offset: 2px;
}

pre { white-space: pre-wrap; border-top: var(--border-mid) solid var(--line-soft); padding-top: var(--space-2); }
fieldset { border: var(--border-mid) solid var(--line); margin: 0; padding: var(--space-2); }

.shell { min-height: 100vh; padding: var(--space-3); }
header {
  border: var(--border-strong) solid var(--line);
  background: var(--panel-alt);
  padding: var(--space-2) var(--space-3);
  margin-bottom: var(--space-2);
}
header h1 { margin: 0 0 var(--space-1) 0; font-size: 1.3rem; letter-spacing: 0.06em; }
header p { margin: 0; color: var(--fg-muted); }

.tabs { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: var(--space-1); margin-bottom: var(--space-2); }
.tab { border-width: var(--border-strong); }
.tab.active { background: var(--fg); color: var(--bg); }

.layout { display: grid; grid-template-columns: 280px 1fr 360px; gap: var(--space-2); align-items: start; }
.left, .center, .right {
  border: var(--border-strong) solid var(--line);
  background: var(--panel);
  min-height: 74vh;
  padding: var(--space-2);
}
.panel {
  border: var(--border-strong) solid var(--line);
  margin-bottom: var(--space-2);
  padding: var(--space-2);
  background: var(--bg);
}
.panel h3, .panel h4 { margin: 0 0 var(--space-2) 0; }

.module-row { display: block; margin-bottom: var(--space-1); }
.module-actions { display: grid; gap: var(--space-1); margin-top: var(--space-2); }

.step-list { display: grid; gap: var(--space-1); }
.step-list h3 { margin: var(--space-2) 0 var(--space-1) 0; }
.step { text-align: left; }
.step.active { background: var(--fg); color: var(--bg); }

.step-header {
  display: flex;
  justify-content: space-between;
  gap: var(--space-2);
  border-bottom: var(--border-mid) solid var(--line-soft);
  padding-bottom: var(--space-2);
  margin-bottom: var(--space-2);
}
.step-actions { display: flex; gap: var(--space-1); align-items: center; flex-wrap: wrap; }
.inline-toggle { display: inline-flex; align-items: center; gap: var(--space-1); font-weight: 700; }
.step-disabled { opacity: 0.45; filter: grayscale(1); }

textarea { width: 100%; min-height: 120px; padding: var(--space-2); }
input, select { width: 100%; padding: var(--space-2); }

.chip-row { display: flex; gap: var(--space-1); flex-wrap: wrap; margin: var(--space-2) 0; }
.chip { width: 24px; height: 24px; border: var(--border-mid) solid var(--line); display: inline-block; }


/* Single-column layout used by Manager-first shell */
.layout.layout--single { grid-template-columns: 1fr; }
.layout.layout--single .left, .layout.layout--single .right { display: none; }
